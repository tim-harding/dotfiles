[user]
    name = Timothy Harding
    email = timothy@harding.vip
    signingKey = ~/.ssh/id_ed25519.pub

[init]
    defaultBranch = main

[alias]
    all = !git add .
    root = rev-parse --show-toplevel
    echo = rev-parse --abbrev-ref
    upstream = echo '@{upstream}'
    reword = commit --amend --only
    amend = commit --amend --no-edit
    last-sha = rev-list @^..@
    last-msg = log -1 --pretty=%B
    axe = log --source --all --color --patch --pickaxe-all --regexp-ignore-case -G
    fp = push --force-with-lease --force-if-includes
    lg = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold cyan)%aD%C(reset) %C(bold green)(%ar)%C(reset)%C(bold yellow)%d%C(reset)%n'' %C(white)%s%C(reset) %C(dim white)- %an%C(reset)'

[url "git@github.com:"]
    insteadOf = "gh:"
    insteadOf = "https://github.com/"

[filter "lfs"]
    required = true
    clean = git-lfs clean -- %f
    smudge = git-lfs smudge -- %f
    process = git-lfs filter-process

[core]
    pager = delta
    excludesFile = ~/.gitignore.local
    fsmonitor = true
    untrackedCache = true
    whitespace = trailing-space
    autocrlf = false

[clean]
    requireForce = false

[status]
    branch = true
    submoduleSummary = true

[interactive]
    diffFilter = delta --color-only

[delta]
    # Use n and N to navigate over files and commits
    # https://dandavison.github.io/delta/navigation-keybindings-for-large-diffs.html
    navigate = true
    # Turn line numbers, file paths, commit hashes into links
    # TODO: Customize hyperlinks-file-link-format
    # https://dandavison.github.io/delta/hyperlinks.html
    hyperlinks = true
    # https://dandavison.github.io/delta/features-named-groups-of-settings.html
    features = line-numbers no-syntax
    max-line-length = 0
    true-color = always

    inline-hint-style = dim
    zero-style = normal
    whitespace-error-style = dim

    blame-palette = "#232634" "#292c3c" "#303446" # frappe-crust, frappe-mantle, frappe-base
    blame-format = {author:<15.14} {commit:<8}
    blame-separator-format = ""
    blame-code-style = normal
    blame-separator-style = normal

    commit-decoration-style = black ul
    commit-style = normal

    file-style = dim
    file-decoration-style = black bold ul ol

    grep-file-style = dim
    grep-context-line-style = dim
    grep-header-decoration-style = dim
    grep-header-file-style = dim
    grep-line-number-style = dim
    grep-output-type = dim
    grep-match-line-style = dim
    grep-match-word-style = dim

    hunk-header-style = dim
    hunk-header-file-style = dim
    hunk-header-line-number-style = dim
    hunk-header-decoration-style = black bold ul

    merge-conflict-ours-diff-header-style = dim
    merge-conflict-theirs-diff-header-style = dim
    merge-conflict-ours-diff-header-decoration-style = black bold ul ol
    merge-conflict-theirs-diff-header-decoration-style = black bold ul ol

[delta "syntax"]
    syntax-theme = base16
    minus-style = syntax strike
    minus-emph-style = syntax strike italic
    plus-style = syntax bold
    plus-emph-style = syntax bold italic

[delta "no-syntax"]
    syntax-theme = none
    minus-style = red reverse normal
    minus-emph-style = brightred reverse bold
    plus-style = green reverse normal
    plus-emph-style = brightgreen reverse bold
    map-styles = bold purple => magenta reverse, bold cyan => blue reverse

[delta "line-numbers"]
    line-numbers = true
    line-numbers-minus-style = red auto
    line-numbers-plus-style = green auto
    line-numbers-zero-style = black auto
    line-numbers-left-format = "{nm:>4}┊"
    line-numbers-right-format = "{np:>4}│"
    line-numbers-left-style = black
    line-numbers-right-style = black

[delta "side-by-side"]
    side-by-side = true

[log]
    date = iso

[gpg]
    format = ssh

[grep]
    patterntype = perl

[feature]
    ; Setting due to https://github.com/folke/lazy.nvim/issues/2046
    experimental = false

[column]
    ui = auto

[commit]
    verbose = true

[tag]
    sort = version:refname

[pull]
    rebase = true
    autostash = true

[fetch]
    prune = true
    pruneTags = true
    all = true

[rebase]
    autostash = true
    autosquash = true
    updateRefs = true

[push]
    autoSetupRemote = true
    followTags = true

[merge]
    conflictstyle = zdiff3
    keepbackup = false
    tool = meld

[diff]
    colorMoved = default
    algorithm = histogram
    compactionHeuristic = true
    mnemonicPrefix = true
    renames = true
    submodule = log

[submodule]
    recurse = true

[advice]
    skippedCherryPicks = false
    detachedHead = false

[rerere]
    enabled = true
    autoupdate = true

[branch]
    autoSetupMerge = simple
    sort = -committerdate

[help]
    autocorrect = prompt

[include]
    path = ~/.gitconfig.local
